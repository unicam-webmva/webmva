@model webmva.Models.Progetto 
@{ ViewData["Title"] = "Delete"; 
var contNMAP = 0;
var contNessus= 0;
var contOpenVAS = 0;
var contDnsRecon = 0;
var contDroope = 0;
var contInfoga = 0;
var contInfogaEmail = 0;
var contWapiti = 0;}

<h2>Sei sicuro di voler cancellare il progetto @Html.DisplayFor(model => model.Nome) ? </h2>
<hr />
<div class="container">
<div class="row panel panel-default">
 <form asp-action="Delete">
        <input type="hidden" asp-for="ID" />
        <div class="col-10">
            <div class="form-group col-10">
                
                    <dl class="dl-horizontal">
                        <div class="panel-body">

                            <dt>
                                <strong> Nome del Progetto </strong>
                            </dt>
                            <dd>
                                @Html.DisplayFor(model => model.Nome)
                            </dd><hr>
                            
                         <dt>
                            <strong>  Descrizione </strong>
                        </dt>
                         <dd> 
                       
                         @Html.DisplayFor(model => model.Descrizione)
                        
                    </dd> <hr>
                            <dt>
                                <strong> Taget </strong>
                            </dt>
                            <dd>
                                @Html.DisplayFor(model => model.Target)
                            </dd><hr>
                        </div>
                        <dt>
                            <strong>  Moduli selezionati </strong>
                        </dt>
                        @foreach(var item in Model.ModuliProgetto) {
                            
                            if(item.Modulo is webmva.Models.ModuloNMAP) {contNMAP++;}
                            if(item.Modulo is webmva.Models.ModuloNESSUS) {contNessus++;}
                            //if(item.Modulo is webmva.Models.ModuloOPENVAS) {contOpenVAS++;}
                            if(item.Modulo is webmva.Models.ModuloDNSRECON){contDnsRecon++;}
                            if(item.Modulo is webmva.Models.ModuloDROOPE){contDroope++;}
                            if(item.Modulo is webmva.Models.ModuloINFOGA){contInfoga++;}
                            if(item.Modulo is webmva.Models.ModuloINFOGAEMAIL){contInfogaEmail++;}
                            if(item.Modulo is webmva.Models.ModuloWAPITI){contWapiti++;}
                        }
                        @if(contNMAP!=0){
                                
                            <dd><strong>Nmap</strong></dd>
                            <dd>
                            <table class="table">
                                <tr>
                                    <th> </th>
                                    <th>Modulo</th>
                                    <th>Comando</th>
                                </tr>
                               @foreach (var item in Model.ModuliProgetto) {
                            
                                @if(item.Modulo is webmva.Models.ModuloNMAP){
                                <tr>
                                <td></td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Nome)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Comando)
                                    </td>
                                </tr>
                               
                                }
                            }
                                </table>
                                </dd>    
                        }  
                         @if(contNessus!=0){
                                
                             <dd><strong>Nessus</strong></dd>
                            <dd>
                            <table class="table">
                                <tr>
                                    <th> </th>
                                    <th>Modulo</th>
                                    <th>Comando</th>
                                </tr>
                        @foreach (var item in Model.ModuliProgetto) {
                            
                                @if(item.Modulo is webmva.Models.ModuloNESSUS){
                                <tr>
                                <td></td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Nome)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Comando)
                                    </td>
                                </tr>
                               
                                }
                                }
                                </table>
                                </dd>    
                        }
                        @if(contOpenVAS!=0){
                                
                             <dd><strong>OpenVAS</strong></dd>
                            <dd>
                            <table class="table">
                                <tr>
                                    <th> </th>
                                    <th>Modulo</th>
                                    <th>Comando</th>
                                </tr>
                        @foreach (var item in Model.ModuliProgetto) {
                            
                                @if(item.Modulo is webmva.Models.ModuloNMAP){
                                <tr>
                                <td></td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Nome)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Comando)
                                    </td>
                                </tr>
                               
                                }
                                }
                                </table>
                                </dd>    
                        }  
                         @if(contDnsRecon!=0){
                                
                             <dd><strong>DnsRecon</strong></dd>
                            <dd>
                            <table class="table">
                                <tr>
                                    <th> </th>
                                    <th>Modulo</th>
                                    <th>Comando</th>
                                </tr>
                        @foreach (var item in Model.ModuliProgetto) {
                            
                                @if(item.Modulo is webmva.Models.ModuloDNSRECON){
                                <tr>
                                <td></td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Nome)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Comando)
                                    </td>
                                </tr>
                               
                                }
                                }
                                </table>
                                </dd>    
                        }
                         @if(contDroope!=0){
                                
                             <dd><strong>Droope</strong></dd>
                            <dd>
                            <table class="table">
                                <tr>
                                    <th> </th>
                                    <th>Modulo</th>
                                    <th>Comando</th>
                                </tr>
                        @foreach (var item in Model.ModuliProgetto) {
                            
                                @if(item.Modulo is webmva.Models.ModuloDROOPE){
                                <tr>
                                <td></td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Nome)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Comando)
                                    </td>
                                </tr>
                               
                                }
                                }
                                </table>
                                </dd>    
                        }    
                        @if(contInfoga!=0){
                                
                             <dd><strong>Infoga</strong></dd>
                            <dd>
                            <table class="table">
                                <tr>
                                    <th> </th>
                                    <th>Modulo</th>
                                    <th>Comando</th>
                                </tr>
                        @foreach (var item in Model.ModuliProgetto) {
                            
                                @if(item.Modulo is webmva.Models.ModuloINFOGA){
                                <tr>
                                <td></td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Nome)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Comando)
                                    </td>
                                </tr>
                               
                                }
                                }
                                </table>
                                </dd>    
                        }  
                        @if(contInfogaEmail!=0){
                                
                             <dd><strong>Infoga</strong></dd>
                            <dd>
                            <table class="table">
                                <tr>
                                    <th> </th>
                                    <th>Modulo</th>
                                    <th>Comando</th>
                                </tr>
                        @foreach (var item in Model.ModuliProgetto) {
                            
                                @if(item.Modulo is webmva.Models.ModuloINFOGAEMAIL){
                                <tr>
                                <td></td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Nome)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Comando)
                                    </td>
                                </tr>
                               
                                }
                                }
                                </table>
                                </dd>    
                        }  
                         @if(contWapiti!=0){
                                
                             <dd><strong>Wapiti</strong></dd>
                            <dd>
                            <table class="table">
                                <tr>
                                    <th> </th>
                                    <th>Modulo</th>
                                    <th>Comando</th>
                                </tr>
                        @foreach (var item in Model.ModuliProgetto) {
                            
                                @if(item.Modulo is webmva.Models.ModuloWAPITI){
                                <tr>
                                <td></td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Nome)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Modulo.Comando)
                                    </td>
                                </tr>
                               
                                }
                                }
                                </table>
                                </dd>    
                        }  
                                
            <div class="container ">
                    <div class="form-group col-sm-6 ">
                        <input type="submit"  class="btn btn-default"asp-action="Delete" asp-route-id="@Model.ID" value="Cancella"> |
                        <a asp-action="Index"> Torna alla lista</a>
                   </div>
                </div>
            </div>
        </div>
 </form>
    </div>
    
    </div>
   
  
